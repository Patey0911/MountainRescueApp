<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="MountainRescueApp.MainPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml">

    <!-- Soft gradient background -->
    <ContentPage.Background>
        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="#0A6FAF" Offset="0.0" />
            <GradientStop Color="#1A8FBF" Offset="0.5" />
            <GradientStop Color="#34BCCC" Offset="1.0" />
        </LinearGradientBrush>
    </ContentPage.Background>

    <Grid>
        <ScrollView>
            <VerticalStackLayout
                x:Name="MainContainer"
                Padding="30"
                Spacing="25"
                VerticalOptions="CenterAndExpand"
                HorizontalOptions="FillAndExpand"
                Opacity="0"
                TranslationY="40">

                <!-- Logo -->
                <Image
                    Source="mountainrescue_imageimag.png"
                    HeightRequest="300"
                    Aspect="AspectFit"
                    HorizontalOptions="Center"
                    Opacity="0"
                    TranslationY="40" />

                <!-- Email Entry -->
                <Frame
                    BackgroundColor="DarkSlateBlue"
                    CornerRadius="12"
                    HasShadow="False"
                    Padding="15,0"
                    HeightRequest="55"
                    Opacity="0"
                    TranslationY="40">

                    <Entry
                        x:Name="txtUsername"
                        Placeholder="Email"
                        FontSize="18"
                        TextColor="White"
                        PlaceholderColor="#D0EFFF"
                        Keyboard="Email"
                        Completed="txtUsername_Completed_1"/>
                </Frame>

                <!-- Password Entry -->
                <Grid Opacity="0" TranslationY="40">
                    <Frame
                        BackgroundColor="DarkSlateBlue"
                        CornerRadius="12"
                        HasShadow="False"
                        Padding="15,0"
                        HeightRequest="55">

                        <Entry
                            x:Name="txtPassword"
                            Placeholder="Password"
                            FontSize="18"
                            TextColor="White"
                            PlaceholderColor="#D0EFFF"
                            IsPassword="True" />
                    </Frame>

                    <Image
                        x:Name="password_icon"
                        Source="HidePasswordWhite.png"
                        HeightRequest="28"
                        HorizontalOptions="End"
                        VerticalOptions="Center"
                        Margin="0,0,10,0">
                        <Image.GestureRecognizers>
                            <TapGestureRecognizer Tapped="TapGestureRecognizer_Tapped" />
                        </Image.GestureRecognizers>
                    </Image>
                </Grid>

                <!-- Login Button -->
                <Button
                    x:Name="LoginButton"
                    Text="Login"
                    FontSize="20"
                    FontAttributes="Bold"
                    TextColor="White"
                    BackgroundColor="#1E90FF"
                    CornerRadius="25"
                    HeightRequest="55"
                    Opacity="0"
                    TranslationY="40"
                    Clicked="Button_ClickedAsync" />

                <!-- Register Links -->
                <Label HorizontalOptions="Center" Opacity="0" TranslationY="40">
                    <Label.FormattedText>
                        <FormattedString>
                            <Span Text="Don't have an account? " TextColor="White" FontSize="16" />
                            <Span Text="Register"
                                  TextColor="White"
                                  FontAttributes="Bold"
                                  FontSize="16"
                                  TextDecorations="Underline" />
                        </FormattedString>
                    </Label.FormattedText>
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Tapped="TapGestureRecognizer_Tapped_1" />
                    </Label.GestureRecognizers>
                </Label>

                <Label HorizontalOptions="Center" Opacity="0" TranslationY="40">
                    <Label.FormattedText>
                        <FormattedString>
                            <Span Text="Register as a rescue"
                                  TextColor="White"
                                  FontAttributes="Bold"
                                  FontSize="16"
                                  TextDecorations="Underline" />
                        </FormattedString>
                    </Label.FormattedText>
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Tapped="TapGestureRecognizer_Tapped_2" />
                    </Label.GestureRecognizers>
                </Label>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
